@model Adneotheque.ViewModels.DocumentsWithFilters

@{
    ViewBag.Title = "DisplayAllTest";
}

<br />
<br />

<p class="buttonStyle">
    @Html.ActionLink("Insert a new document", "Create")
    @Html.ActionLink("A document is back", "DocumentReturn")
</p>
<br />

<div class="container body-content">
    <div class="row">
        <h3>Filters</h3>
    </div>
    <div class="row">
        <div class="col-md-4 filterstyle" style="margin-left: 0;">

            @using (Html.BeginForm("DisplayWithFilters", "Document"))
            {
                @Html.DropDownList("SelectedCategory",
                    new SelectList(Model.DocumentViewModelPagedList.First().GetDocumentCategoriesList(), "Value", "Text"),
                    "Select",
                    new { @class = "form-control", Name = "Selectedcategory" })

                <input type="submit"
                       name="buttonFilter"
                       value="Search By Category"
                       class="cianButtonInput" />
            }

        </div>


        @using (Ajax.BeginForm(
                    "DisplayWithFilters",
                    "Document",
                    new AjaxOptions
                    {
                        HttpMethod = "get",
                        InsertionMode = InsertionMode.Replace,
                        UpdateTargetId = "documentList",
                        OnSuccess = "fadeInAndOut"
                    }))
        {

            @Html.HiddenFor(Model => Model.SelectedCategory);

            <div class="col-md-4 filterstyle">
                <input type="search"
                       name="searchTerm"
                       data-adneotheque-autocomplete="@Url.Action("Autocomplete", new {category = @Model.SelectedCategory})"
                       class="form-control" />
                <input type="submit"
                       value="Search By Title"
                       class="cianButtonInput" />
            </div>

                <div class="col-md-4 filterstyle">
                    <label>@Html.EditorFor(m => m.Available)Show only available documents ?</label>
                    <br />
                    <input type="submit"
                           value="Change"
                           class="cianButtonInput" />
                </div>
        }

    </div>
</div>

@Html.Partial("_Documents")